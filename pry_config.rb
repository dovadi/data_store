DataStore.configure do |config|
  config.database             = 'development'
  config.enable_logging       = false
  config.database_config_file = '/Users/dovadi/rails/observi/config/database.yml'
end


DataStore::Base.db[:ds_316].where{created >= from}.where{created <= till}.order(:created)


table = DataStore::Table.new 316

from = (Date.today - 7.days).to_time.utc.to_i

table.differences(from, :day) #24 results

table.differences(from, :week) #7 results

table.differences(from, :month) #28 - 31 results depending on the month

table.differences(from, :year) #12 results


table.differences(from: from, timeslot: :day, offset: -5)


2013-05-01 00:00:27 +0200,
2013-05-01 01:00:28 +0200,
2013-05-01 03:00:29 +0200,
2013-05-01 06:00:20 +0200,
2013-05-01 07:00:21 +0200,
2013-05-01 08:00:21 +0200,
2013-05-01 09:00:22 +0200,
2013-05-01 10:00:23 +0200,
2013-05-01 17:00:26 +0200,
2013-05-01 19:00:27 +0200,
2013-05-01 20:00:28 +0200,
2013-05-01 21:00:28 +0200,
2013-05-01 22:00:29 +0200,
2013-05-01 23:00:28 +0200,
2013-05-02 00:00:29 +0200,
2013-05-02 01:00:29 +0200,
2013-05-02 02:00:30 +0200,
2013-05-02 07:00:22 +0200,
2013-05-02 08:00:23 +0200,
2013-05-02 09:00:24 +0200,
2013-05-02 10:00:24 +0200,
2013-05-02 11:00:25 +0200,
2013-05-02 15:00:27 +0200,
2013-05-02 16:00:27 +0200,
2013-05-02 18:00:28 +0200,
2013-05-02 19:00:29 +0200,
2013-05-02 20:00:29 +0200,
2013-05-02 21:00:30 +0200,
2013-05-02 22:00:31 +0200,
2013-05-03 07:07:04 +0200,
2013-05-03 08:00:24 +0200,
2013-05-03 09:00:25 +0200,
2013-05-03 12:00:26 +0200,
2013-05-03 13:00:27 +0200,
2013-05-03 16:00:28 +0200,
2013-05-03 19:00:29 +0200,
2013-05-03 20:00:28 +0200,
2013-05-03 21:00:29 +0200,
2013-05-03 22:00:29 +0200,
2013-05-04 00:00:30 +0200,
2013-05-04 01:00:21 +0200,
2013-05-04 02:00:22 +0200,
2013-05-04 07:00:24 +0200,
2013-05-04 08:00:25 +0200